{"version":3,"sources":["utils/auth.js","images/logo.svg","contexts/CurrentUserContext.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/Success.svg","images/Fail.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["auth","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","authPass","authMail","fetch","method","body","JSON","stringify","password","email","then","getResponse","pass","mail","credentials","id","_id","CurrentUserContext","React","createContext","Header","props","currentUser","useContext","className","src","logo","alt","path","to","exact","onClick","onLogout","Card","card","onCardClick","onCardLike","onCardDelete","isCardLiked","likes","some","i","isCardOwn","owner","cardDeleteButtonClassName","cardLikeButtonClassName","aria-label","link","name","type","length","Main","style","backgroundImage","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","popupState","isOpen","onSubmit","onClose","title","children","ImagePopup","api","formData","info","place","image","cardId","liked","authorization","EditProfilePopup","useState","setName","description","setDescription","useEffect","event","preventDefault","onUpdateUser","placeholder","value","onChange","target","required","minLength","maxLength","EditAvatarPopup","inputRef","useRef","e","onUpdateAvatar","current","ref","AddPlacePopup","setLink","withRouter","setMail","setPass","cleaner","onLogin","setAuthMail","setAuthPass","onRegister","ProtectedRoute","Component","component","loggedIn","InfoTooltip","isError","fail","success","isEditProfilePopupOpen","setIsEditProfileOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isPlaceDeletePopupOpen","setIsPlaceDeletePopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","setIsError","isLoggedIn","setIsLoggedIn","headerEmail","setHeaderEmail","selectedCard","setSelectedCard","setCurrentUser","setCards","handleInfoTooltipOpen","handleLogStatus","closeAllPopups","getUser","history","push","catch","err","console","error","all","getUserInfoApi","getInitialCards","userData","initialCards","log","Provider","logout","onAuthorization","cardToDeleteId","deleteCard","filter","isLiked","changeLikeCardStatus","newCard","state","c","updateUserInfo","addNewCard","updateUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.19b574bb.chunk.js","sourcesContent":["\r\nclass Auth {\r\n\r\n    constructor({baseUrl,headers}) {\r\n        this._baseUrl = baseUrl;\r\n        this._headers = headers;\r\n    }\r\n\r\n    getResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        else{\r\n            Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n    }\r\n\r\n    onRegister(authPass, authMail) {\r\n        return fetch(`${this._baseUrl}/signup`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                password: authPass,\r\n                email: authMail\r\n            })\r\n        })\r\n            .then(this.getResponse)\r\n    }\r\n\r\n    onLogin (pass,mail) {\r\n        return fetch(`${this._baseUrl}/signin`, {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                password: pass,\r\n                email: mail\r\n            })\r\n        })\r\n            .then(this.getResponse)\r\n    }\r\n\r\n    getUser() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'GET',\r\n            credentials: 'include',\r\n        })\r\n            .then(this.getResponse)\r\n    }\r\n\r\n    logout(id) {\r\n        return fetch(`${this._baseUrl}/logout`, {\r\n            method: 'DELETE',\r\n            credentials: 'include',\r\n            body: JSON.stringify({\r\n                _id: id\r\n            })\r\n        })\r\n            .then(this.getResponse)\r\n    }\r\n\r\n}\r\n\r\n\r\nconst authConfig = {\r\n    baseUrl: 'https://api.kleepers.mesto.nomoredomains.club',\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n    }\r\n};\r\n\r\nexport const auth = new Auth(authConfig);","export default __webpack_public_path__ + \"static/media/logo.494f10bc.svg\";","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext({});","import logo from \"../images/logo.svg\";\r\nimport React from 'react';\r\nimport { Link, Route, Switch} from \"react-router-dom\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Header (props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n            <header className=\"header\">\r\n                <img className=\"header__logo\" src={logo} alt=\"логотип\"/>\r\n                <Switch>\r\n                    <Route path='/sign-in'>\r\n                        <Link className='header__button' to='sign-up'>Регистрация</Link>\r\n                    </Route>\r\n                    <Route path='/sign-up'>\r\n                        <Link className='header__button' to='sign-in'>Войти</Link>\r\n                    </Route>\r\n                    <Route exact path='/'>\r\n                        <p className='header__email'>{currentUser.email}</p>\r\n                        <Link className='header__button' to='sign-in' onClick={props.onLogout}>Выйти</Link>\r\n                    </Route>\r\n                </Switch>\r\n            </header>\r\n    );\r\n}","import React from \"react\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Card ({card,onCardClick,onCardLike,onCardDelete}) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isCardLiked = card.likes.some(i => i._id === currentUser._id)\r\n    const isCardOwn = card.owner._id === currentUser._id;\r\n\r\n    const cardDeleteButtonClassName = (`element__delete-btn ${isCardOwn ? 'element__delete-btn_active' : ''}`);\r\n    const cardLikeButtonClassName = (`element__like-btn ${isCardLiked ? 'element__like-btn_active' : ''}`);\r\n\r\n    function handleLikeClick () {\r\n        onCardLike(card);\r\n    }\r\n    function handleDeleteClick () {\r\n        onCardDelete(card._id);\r\n    }\r\n\r\n    return (\r\n        <article className=\"element\">\r\n            <button aria-label=\"Удалить\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}/>\r\n            <img src={card.link} alt={card.name} className=\"element__photo\" onClick={() => onCardClick(card)}/>\r\n            <div className=\"element__info\">\r\n                <h3 className=\"element__title\">{card.name}</h3>\r\n                <div className=\"element__like\">\r\n                    <button type=\"button\" aria-label=\"Нравится\" className={cardLikeButtonClassName} onClick={handleLikeClick}/>\r\n                    <p className=\"element__like-count\">{card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </article>\r\n    )\r\n}","import React from 'react'\r\nimport Card from \"./Card\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Main (props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext)\r\n\r\n    return (\r\n        <main className=\"content\">\r\n\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar\" style={{ backgroundImage: `url(${currentUser.avatar})`}} onClick={props.onEditAvatar}>\r\n                    <button className=\"profile__edit-avatar\" />\r\n                    <div className=\"profile__avatar-overlay\"/>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__nickname\">\r\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                        <button type=\"button\" className=\"profile__edit-btn profile__popup-btn\" onClick={props.onEditProfile}/>\r\n                    </div>\r\n                    <h2 className=\"profile__description\">{currentUser.about}</h2>\r\n                </div>\r\n                <button type=\"button\" className=\"profile__add-btn profile__popup-btn\" onClick={props.onAddPlace}/>\r\n            </section>\r\n\r\n            <section className=\"elements\">\r\n                {props.cards.map((card) => {\r\n                    return (\r\n                        <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>\r\n                    )\r\n                })}\r\n            </section>\r\n\r\n        </main>\r\n    )\r\n}\r\n\r\n\r\n","export default function Footer () {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function PopupWithForm (props) {\r\n    const popupState = props.isOpen ?'popup_opened' : '';\r\n    return (\r\n        <div className={`popup popup_area_${props.name} ${popupState}`}>\r\n            <form className=\"popup__content popup__validation\" name={`${props.name}`} onSubmit={props.onSubmit}>\r\n                <button type=\"reset\" className={`popup__close popup__close_place_${props.name}`} onClick={props.onClose} aria-label=\"Close\"/>\r\n                <h2 className=\"popup__heading\">{props.title}</h2>\r\n                {props.children}\r\n                <button type=\"submit\" className={`popup__submit popup__submit_place_${props.name}`}>Подтвердить</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function ImagePopup (props) {\r\n        const isOpen = props.card.name ?'popup_opened' :'';\r\n        return (\r\n            <div className={`popup popup_area_photo ${isOpen}`}>\r\n                <div className=\"popup__content popup__content_place_photo\">\r\n                    <button type=\"button\" aria-label=\"Закрыть попап\" className=\"popup__close popup__close_place_photo\" onClick={props.onClose}/>\r\n                    <img src={props.card.link} alt={props.card.name} className=\"popup__photo\"/>\r\n                    <h2 className=\"popup__heading popup__heading_place_photo\">{props.card.name}</h2>\r\n                </div>\r\n            </div>\r\n        )\r\n    }","class Api {\r\n    constructor({baseUrl,headers}) {\r\n        this._baseUrl = baseUrl;\r\n        this._headers = headers;\r\n    }\r\n\r\n    getResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        else{\r\n            Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'GET',\r\n            credentials: 'include',\r\n            headers: this._headers\r\n        })\r\n            .then(this.getResponse)\r\n    }\r\n\r\n    getUserInfoApi() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'GET',\r\n            credentials: 'include',\r\n            headers: this._headers\r\n        })\r\n            .then(this.getResponse)\r\n    }\r\n\r\n    updateUserInfo(formData) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            credentials: 'include',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: formData.name,\r\n                about: formData.info\r\n            })\r\n        })\r\n            .then(this.getResponse)\r\n    }\r\n\r\n    addNewCard(formData) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: formData.place,\r\n                link: formData.image\r\n            })\r\n        })\r\n            .then(this.getResponse)\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._baseUrl}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            credentials: 'include',\r\n            headers: this._headers\r\n        })\r\n            .then(this.getResponse)\r\n    }\r\n\r\n    changeLikeCardStatus(cardId,liked) {\r\n        return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n            method: liked ? 'PUT' : 'DELETE',\r\n            credentials: 'include',\r\n            headers: this._headers\r\n        })\r\n            .then(this.getResponse)\r\n    }\r\n\r\n    updateUserAvatar(formData) {\r\n        return fetch (`${this._baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            credentials: 'include',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar:formData.link})\r\n        })\r\n            .then(this.getResponse)\r\n    }\r\n}\r\n\r\nconst apiConfig = {\r\n    baseUrl: 'https://api.kleepers.mesto.nomoredomains.club',\r\n    headers: {\r\n        authorization: 'f2168467-af30-4c44-aa31-04a8fed6c871',\r\n        'Content-Type': 'application/json'\r\n    }\r\n};\r\n\r\nexport const api = new Api(apiConfig);\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function EditProfilePopup (props) {\r\n\r\n    const [name,setName] = React.useState('');\r\n    const [description,setDescription] = React.useState('');\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n    function handleNameChange (event) {\r\n        setName(event.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange (event) {\r\n        setDescription(event.target.value);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser,props.isOpen]);\r\n\r\n    function handleSubmit (event) {\r\n        event.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            info: description\r\n        });\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <input type=\"text\" placeholder=\"Ваше имя\" id=\"popup__name\" value={name || ''} onChange={handleNameChange}\r\n                   className=\"popup__input popup__input_value_name\" name=\"name\" required minLength=\"2\"\r\n                   maxLength=\"40\"/>\r\n            <span className=\"popup__input-error popup__name-error\"/>\r\n            <input type=\"text\" placeholder=\"О себе\" id=\"popup__info\" value={description || ''} onChange={handleDescriptionChange}\r\n                   className=\"popup__input popup__input_value_info\" name=\"info\" required minLength=\"2\"\r\n                   maxLength=\"200\"/>\r\n            <span className=\"popup__input-error popup__info-error\"/>\r\n        </PopupWithForm>\r\n        )\r\n}","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\n\r\n\r\nexport default function EditAvatarPopup (props) {\r\n\r\n\r\n    const inputRef = React.useRef();\r\n\r\n    function handleSubmit (e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateAvatar({\r\n            link: inputRef.current.value\r\n        })\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name='avatar' title='Обновить аватар' isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <input className=\"popup__input popup__input_value_avatar\" type=\"url\" placeholder=\"Ссылка на картинку\"\r\n                   id=\"popup__avatar\" name=\"avatar\" required ref={inputRef}/>\r\n            <span className=\"popup__input-error popup__avatar-error\"/>\r\n        </PopupWithForm>\r\n    )\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\n\r\nexport default function AddPlacePopup (props) {\r\n\r\n    const [name,setName] = React.useState('');\r\n    const [link,setLink] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setName('')\r\n        setLink('')\r\n    },[props.isOpen])\r\n\r\n    function handleNameChange (event) {\r\n        setName(event.target.value);\r\n    }\r\n\r\n    function handleLinkChange (event) {\r\n        setLink(event.target.value);\r\n    }\r\n\r\n    function handleSubmit (event) {\r\n        event.preventDefault();\r\n        props.onAddPlace({\r\n            place: name,\r\n            image: link\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name='add' title='Новое место' isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <input type=\"text\" placeholder=\"Название\" id=\"popup__place\"\r\n                   className=\"popup__input popup__input_value_place\" name=\"place\" required minLength=\"2\" maxLength=\"30\" value={name} onChange={handleNameChange}/>\r\n            <span className=\"popup__input-error popup__place-error\"/>\r\n            <input type=\"url\" placeholder=\"Ссылка на картинку\" id=\"popup__image\"\r\n                   className=\"popup__input popup__input_value_image\" name=\"image\" required value={link} onChange={handleLinkChange}/>\r\n            <span className=\"popup__input-error popup__image-error\"/>\r\n        </PopupWithForm>\r\n    )\r\n}","import React from \"react\";\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nfunction Login (props) {\r\n\r\n    const [mail,setMail] = React.useState('')\r\n    const [pass,setPass] = React.useState('')\r\n\r\n    function handleEmailChange (event) {\r\n        setMail(event.target.value);\r\n    }\r\n\r\n    function handlePassChange (event) {\r\n        setPass(event.target.value);\r\n    }\r\n\r\n    React.useEffect (() => {\r\n        setPass('')\r\n        setMail('')\r\n    },[props.cleaner])\r\n\r\n\r\n    function handleSubmit (event) {\r\n        event.preventDefault();\r\n        props.onLogin(pass,mail)\r\n    }\r\n\r\n    return (\r\n        <form className='auth-form' onSubmit={handleSubmit}>\r\n            <p className='auth-form__title'>Вход</p>\r\n            <input className='auth-form__input' type='email' placeholder='Email' onChange={handleEmailChange} value={mail || ''}/>\r\n            <input className='auth-form__input' type='password' placeholder='Пароль' onChange={handlePassChange} value={pass || ''}/>\r\n            <button className='auth-form__button' type='submit'>Войти</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default withRouter(Login)","import React from 'react'\r\nimport {withRouter,Link} from 'react-router-dom'\r\n\r\nfunction Register (props) {\r\n\r\n    const [authMail,setAuthMail] = React.useState('')\r\n    const [authPass,setAuthPass] = React.useState('')\r\n\r\n    function handleEmailChange (event) {\r\n        setAuthMail(event.target.value);\r\n    }\r\n\r\n    function handlePassChange (event) {\r\n        setAuthPass(event.target.value);\r\n    }\r\n\r\n    function handleSubmit (event) {\r\n        event.preventDefault();\r\n        props.onRegister(authPass,authMail);\r\n    }\r\n\r\n    return (\r\n        <form className='auth-form' onSubmit={handleSubmit}>\r\n            <p className='auth-form__title'>Регистрация</p>\r\n            <input className='auth-form__input' type='email' placeholder='Email' onChange={handleEmailChange} value={authMail}/>\r\n            <input className='auth-form__input' type='password' placeholder='Пароль' onChange={handlePassChange} value={authPass}/>\r\n            <button className='auth-form__button' type='submit'>Зарегистрироваться</button>\r\n            <Link className='auth-form__text' to='/sign-in'>Уже зарегистрированы? Войти</Link>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default withRouter(Register);","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n// этот компонент принимает другой компонент в качестве пропса\r\n// он также может взять неограниченное число пропсов и передать их новому компоненту\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route>\r\n            {() =>\r\n                props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n            }\r\n        </Route>\r\n    );\r\n};\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/Success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/Fail.df8eddf6.svg\";","import React from 'react'\r\nimport success from '../images/Success.svg'\r\nimport fail from '../images/Fail.svg'\r\n\r\nexport default function InfoTooltip (props) {\r\n    const popupState = props.isOpen ?'popup_opened' : '';\r\n    return (\r\n        <div className={`popup ${popupState}`}>\r\n            <div className=\"popup__content\">\r\n                <button type=\"reset\" className={`popup__close popup__close_place_${props.name}`} onClick={props.onClose} aria-label=\"Close\"/>\r\n                {props.isError ? <img src={fail} className=\"popup__image\" alt='Ошибка'/> : <img src={success} className=\"popup__image\" alt='Успех'/>}\r\n                <p className='popup__text'>{props.isError ? 'Что-то пошло не так! Попробуйте ещё раз.' : 'Вы успешно зарегистрировались!'}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import {auth} from \"../utils/auth\";\r\nimport Header from './Header'\r\nimport Main from './Main'\r\nimport Footer from \"./Footer\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport React from 'react';\r\nimport {api} from '../utils/api';\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport {Route, Switch, withRouter} from 'react-router-dom';\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\n\r\nfunction App(props) {\r\n\r\n\r\n    function handleEditProfileClick  () {\r\n        setIsEditProfileOpen(true)\r\n    }\r\n\r\n    function handleEditAvatarClick () {\r\n        setIsEditAvatarPopupOpen(true)\r\n    }\r\n\r\n    function handleAddPlaceClick () {\r\n        setIsAddPlacePopupOpen(true)\r\n    }\r\n\r\n    function handlePlaceDeletePopupOpen () {\r\n        setIsPlaceDeletePopupOpen(true)\r\n    }\r\n\r\n    function handleCardClick (card) {\r\n        setSelectedCard(card)\r\n    }\r\n\r\n    const [isEditProfilePopupOpen,setIsEditProfileOpen] = React.useState(false);\r\n    const [isEditAvatarPopupOpen,setIsEditAvatarPopupOpen] = React.useState(false);\r\n    const [isAddPlacePopupOpen,setIsAddPlacePopupOpen] = React.useState(false);\r\n    const [isPlaceDeletePopupOpen,setIsPlaceDeletePopupOpen] = React.useState(false);\r\n    const [isInfoTooltipOpen,setIsInfoTooltipOpen] = React.useState(false);\r\n    const [isError,setIsError] = React.useState(false);\r\n    const [isLoggedIn,setIsLoggedIn] = React.useState(false);\r\n    const [headerEmail,setHeaderEmail] = React.useState('');\r\n\r\n\r\n    const [selectedCard,setSelectedCard] = React.useState({name: '', link: ''});\r\n\r\n    const [currentUser,setCurrentUser] = React.useState({name: '', link: '', avatar: ''});\r\n\r\n    const [cards,setCards] = React.useState([]);\r\n\r\n    function handleInfoTooltipOpen (status) {\r\n        setIsError(status);\r\n        setIsInfoTooltipOpen(true);\r\n    }\r\n\r\n    function handleLogStatus (status) {\r\n        setIsLoggedIn(status);\r\n    }\r\n\r\n    function onRegister (authPass,authMail) {\r\n            auth.onRegister(authPass,authMail)\r\n                .then((res) => {\r\n                    console.log(res);\r\n                if(typeof res === \"undefined\") {\r\n                    handleInfoTooltipOpen(true);\r\n                }\r\n                else  {\r\n                    handleInfoTooltipOpen(false);\r\n                    props.history.push('/sign-in')\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    function onLogin (pass,mail) {\r\n        auth.onLogin(pass,mail)\r\n            .then(() => {\r\n                handleLogStatus(true);\r\n                props.history.push('/');\r\n                setHeaderEmail(mail);\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                setHeaderEmail('');\r\n                setIsInfoTooltipOpen(true);\r\n                setIsError(true);\r\n            })\r\n    }\r\n\r\n    function handleLogout () {\r\n        auth.logout(currentUser._id)\r\n            .then((res) => {\r\n                console.log(res);\r\n                if (res.ok) {\r\n                    handleLogStatus(false);\r\n                    setHeaderEmail('');\r\n                    props.history.push('signin');\r\n                }\r\n                else {\r\n                    console.log('Произошла ошибка при логауте')\r\n                }\r\n            })\r\n    }\r\n\r\n    function checkToken() {\r\n        auth.getUser()\r\n            .then(res => {\r\n                if (res.status === 401 || res.status === 403) {\r\n                    setIsLoggedIn(false);\r\n                    setHeaderEmail('');\r\n                    props.history.push('/signin');\r\n                }else{\r\n                    setIsLoggedIn(true);\r\n                    props.history.push('/');\r\n                }\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        checkToken();\r\n    },[])\r\n\r\n    React.useEffect(() => {\r\n        Promise.all([api.getUserInfoApi(),api.getInitialCards()])\r\n            .then(([userData,initialCards]) => {\r\n                if (userData && initialCards) {\r\n                    setCards(initialCards);\r\n                    setCurrentUser(userData);\r\n                }\r\n            })\r\n            .catch(err => console.log(`Ошибка при получении данных: ${err}`))\r\n    },[isLoggedIn])\r\n\r\n    function handleCardLike(card) {\r\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n        api.changeLikeCardStatus(card._id,!isLiked).then((newCard) => {\r\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n        })\r\n            .catch(err => console.log(`Ошибка: ${err}`))\r\n    }\r\n\r\n    function handleCardDelete(cardToDeleteId) {\r\n        api.deleteCard(cardToDeleteId).then(() => {\r\n            setCards(cards.filter(function(card) {\r\n                return card._id !== cardToDeleteId;\r\n            }))\r\n        })\r\n            .catch(err => console.log(`Ошибка: ${err}`))\r\n    }\r\n\r\n    function closeAllPopups () {\r\n        setIsEditProfileOpen(false);\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsPlaceDeletePopupOpen(false);\r\n        setIsInfoTooltipOpen(false);\r\n        setSelectedCard({name: '', link: ''});\r\n    }\r\n\r\n    function handleUpdateUser (formData) {\r\n        api.updateUserInfo(formData)\r\n            .then((res) => {\r\n                setCurrentUser(res);\r\n                closeAllPopups();\r\n        })\r\n            .catch(err => console.log(`Ошибка: ${err}`))\r\n    }\r\n\r\n    function handleUpdateAvatar (formData) {\r\n        api.updateUserAvatar(formData).then((res) => {\r\n            setCurrentUser(res);\r\n            closeAllPopups();\r\n        })\r\n            .catch(err => console.log(`Ошибка: ${err}`))\r\n    }\r\n\r\n    function handleAddPlaceSubmit (formData) {\r\n        api.addNewCard(formData).then((res) => {\r\n            setCards([res,...cards]);\r\n            closeAllPopups();\r\n        })\r\n            .catch(err => console.log(`Ошибка: ${err}`))\r\n    }\r\n\r\n    return (\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n        <div className=\"page\">\r\n            <Header onLogout={handleLogout}/>\r\n\r\n            <Switch>\r\n                <Route path='/sign-in'>\r\n                    <Login onAuthorization={handleLogStatus} onLogin={onLogin} cleaner={headerEmail}/>\r\n                </Route>\r\n                <Route path='/sign-up'>\r\n                    <Register onRegister={onRegister}/>\r\n                </Route>\r\n                <ProtectedRoute exact path='/' loggedIn={isLoggedIn} component={Main}\r\n                                onEditProfile={handleEditProfileClick}\r\n                                onAddPlace={handleAddPlaceClick}\r\n                                onEditAvatar={handleEditAvatarClick}\r\n                                onCardClick={handleCardClick}\r\n                                onCardDelete={handleCardDelete}\r\n                                onCardLike={handleCardLike}\r\n                                cards={cards} />\r\n            </Switch>\r\n\r\n            <Footer/>\r\n            <EditProfilePopup onClose={closeAllPopups} isOpen={isEditProfilePopupOpen} onUpdateUser={handleUpdateUser}/>\r\n\r\n            <AddPlacePopup onClose={closeAllPopups} isOpen={isAddPlacePopupOpen} onAddPlace={handleAddPlaceSubmit}/>\r\n            <EditAvatarPopup onClose={closeAllPopups} isOpen={isEditAvatarPopupOpen} onUpdateAvatar={handleUpdateAvatar}/>\r\n\r\n            <PopupWithForm name='delete' title='Вы уверены?' isOpen={isPlaceDeletePopupOpen} onClose={closeAllPopups}/>\r\n\r\n            <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\r\n            <InfoTooltip isOpen={isInfoTooltipOpen} isError={isError} onClose={closeAllPopups}/>\r\n        </div>\r\n        </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);\r\n\r\n\r\n\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}